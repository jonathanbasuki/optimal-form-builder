<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
        <%= formData.title %>
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .is-required {
            color: #ff746c;
        }

        /* Custom star rating styles */
        .star {
            cursor: pointer;
            color: #555;
            font-size: 2.25rem;
            /* text-4xl */
            transition: color 0.2s ease;
        }

        .star.filled {
            color: #fbbf24;
            /* amber-400 */
        }

        /* Custom styled radio buttons */
        .custom-radio {
            position: relative;
            padding-left: 2rem;
            cursor: pointer;
            user-select: none;
            color: #ddd;
            font-weight: 600;
        }

        .custom-radio input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        .custom-radio .checkmark {
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            height: 1.25rem;
            width: 1.25rem;
            background-color: transparent;
            border: 2px solid #bbb;
            border-radius: 50%;
            transition: border-color 0.3s;
        }

        .custom-radio:hover .checkmark {
            border-color: #a78bfa;
            /* purple-400 */
        }

        .custom-radio input:checked~.checkmark {
            border-color: #a78bfa;
            background-color: #a78bfa;
        }

        .custom-radio .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .custom-radio input:checked~.checkmark:after {
            display: block;
        }

        .custom-radio .checkmark:after {
            left: 0.35rem;
            top: 0.35rem;
            width: 0.4rem;
            height: 0.4rem;
            border-radius: 50%;
            background: white;
        }

        input[type="date"] {
            color-scheme: dark;
        }

        /* Styled combo box */
        select.styled-select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
            border: none;
            border-radius: 0.5rem;
            padding: 0.75rem 3rem 0.75rem 1rem;
            font-size: 1.125rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: box-shadow 0.3s ease;
            background-image:
                url('data:image/svg+xml;utf8,<svg fill="white" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1rem 1rem;
            box-shadow: 0 3px 6px rgba(124, 58, 237, 0.5);
            height: auto;
            line-height: 1.2;
        }

        select.styled-select:hover {
            box-shadow: 0 4px 10px rgba(167, 139, 250, 0.75);
        }

        select.styled-select:focus {
            outline: none;
            box-shadow: 0 0 12px #c4b5fd;
        }

        select.styled-select option {
            color: black;
        }

        /* Custom styled checkboxes */
        input[type="checkbox"].styled-checkbox {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            position: relative;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #a78bfa;
            border-radius: 0.375rem;
            background-color: transparent;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
            vertical-align: middle;
            margin-right: 0.5rem;
        }

        input[type="checkbox"].styled-checkbox:hover {
            border-color: #c4b5fd;
        }

        input[type="checkbox"].styled-checkbox:checked {
            background: #a78bfa;
            border-color: #a78bfa;
        }

        input[type="checkbox"].styled-checkbox:checked::after {
            content: '';
            position: absolute;
            left: 0.3rem;
            top: 0.05rem;
            width: 0.25rem;
            height: 0.6rem;
            border: solid white;
            border-width: 0 0.15rem 0.15rem 0;
            transform: rotate(45deg);
        }
    </style>
</head>

<body
    class="bg-gradient-to-tr from-purple-900 via-purple-700 to-yellow-400 min-h-screen flex items-center justify-center p-4">
    <main class="rounded-xl shadow-2xl max-w-3xl w-full pt-12 pb-4 flex flex-col text-white bg-transparent"
        id="form-data-container" data-form='<%= JSON.stringify(formData).replace(/' /g, "&apos;" ) %>'>
        <form id="optimal-form" class="flex flex-col" novalidate>
            <!-- Dynamic steps will be injected here -->
            <div id="stepsContainer" class="w-full"></div>

            <!-- Navigation buttons -->
            <div class="mt-8 flex justify-between select-none" aria-label="Form navigation">
                <button type="button" id="prevBtn"
                    class="text-purple-400 font-semibold px-6 py-2 rounded-lg border border-purple-400 hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-400"
                    disabled>
                    Previous
                </button>
                <button type="button" id="nextBtn"
                    class="text-white font-semibold px-6 py-2 rounded-lg bg-purple-600 hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400">
                    Next
                </button>
                <button type="submit" id="submitBtn"
                    class="hidden text-white font-semibold px-6 py-2 rounded-lg bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-400">
                    Submit
                </button>
            </div>
        </form>
    </main>

    <script src="/js/form.js"></script>

</body>

</html>